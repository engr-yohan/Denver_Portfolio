<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Infix → Postfix Converter - HappyLab</title>

	<!-- Link to stylesheet -->
	<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />

	<style>
		/* Small, local tweaks to match other project pages */
		.tool-panel { max-width:820px; margin:28px auto; padding:18px; }
		.tool-input { width:100%; padding:10px; font-size:1.05rem; border:1px solid #ddd; border-radius:4px }
		.tool-actions { margin-top:12px }
		.result-display { margin-top:16px; padding:12px; background:#f6f6f6; border-radius:6px; font-family:monospace }
	</style>
</head>

<body>
	<div class="site-wrapper">

		<!-- HEADER (kept consistent with other pages) -->
		<header class="site-header" role="banner" aria-label="Main header">
			<div class="header-left">
				<img src="{{ url_for('static', filename='assets/logo.jpg') }}" alt="Logo" class="logo" />
				<h1 class="site-title"> Denver Sayasaya </h1>
			</div>

			<nav class="header-nav" role="navigation" aria-label="Primary navigation">
				<button class=nav-toggle aria-controls="primary-menu" aria-expanded="false" aria-label="Toggle navigation">
					<span class="hamburger">
						<span class="bar"> </span>
						<span class="bar"> </span>
						<span class="bar"> </span>
					</span>
				</button>
				<ul id="primary-menu" class="nav-list">
					<li> <a href="{{ url_for('index') }}" class="nav-link"> Home </a> </li>
					<li> <a href="{{ url_for('index') }}#about" class="nav-link"> About </a> </li>
					<li> <a href="{{ url_for('index') }}#projects" class="nav-link"> Projects </a> </li>
					<li> <a href="{{ url_for('index') }}#contact" class="nav-link"> Contact </a></li>
				</ul>
			</nav>
		</header>

		<!-- MAIN -->
		<main id="main" class="site-main">

			<!-- Hero / Project Header -->
			<section class="hero" aria-label="Infix to Postfix Project">
				<div class="hero-inner">
					<p class="eyebrow">Project</p>
					<h2 class="hero-title">Infix → Postfix Converter</h2>
					<p class="hero-sub">Converts infix expressions into postfix notation using the Shunting Yard algorithm.</p>
				</div>
			</section>

			<!-- Tool Section (matches other project pages) -->
			<section class="contact" aria-label="Infix to Postfix Converter">
				<div class="tool-panel">
					<h3 class="section-title">Try it</h3>
					<p>Enter an infix expression below and click <strong>Convert to Postfix</strong>. Examples: <code>A+B*C</code>, <code>(12 + 24) * 3</code>.</p>

					<div class="form-row">
						<label for="infixInput">Infix expression</label>
						<input id="infixInput" class="tool-input" type="text" placeholder="e.g. A+B*C or (12+24)*3" aria-label="Infix expression" />
					</div>

					<div class="form-actions tool-actions">
						<button id="convertBtn" class="btn btn-primary">Convert to Postfix</button>
						<button id="clearBtn" class="btn btn-ghost">Clear</button>
					</div>

					<!-- Result area (styled like other pages) -->
					<div id="resultSection" class="result-section" style="display:none;">
						<h4 class="section-title">Postfix Result</h4>
						<div id="output" class="result-display" aria-live="polite"></div>
					</div>

					<!-- Server-render fallback (if template receives `postfix`) -->
					{% if postfix %}
					<div class="result-section">
						<h4 class="section-title">Postfix Result</h4>
						<div class="result-display"><strong>{{ postfix }}</strong></div>
					</div>
					{% endif %}
				</div>
			</section>

		</main>

		<!-- FOOTER -->
		<footer class="site-footer" role="contentinfo">
			<div class="footer-inner">
				<p> &copy; <span id="year"> </span> Happy Lab. All rights reserved. </p>
				<div class="social">
					<a href="#" aria-label="Github profile"> GitHub </a>
					<a href="#" aria-label="LinkedIn profile"> LinkedIn </a>
					<a href="#" aria-label="Instagram profile"> Instagram </a>
				</div>
			</div>
		</footer>

	</div>

	<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>

	<script>
		// Keep the client-side conversion behavior (AJAX to /convert-postfix)
		const input = document.getElementById('infixInput');
		const btn = document.getElementById('convertBtn');
		const clearBtn = document.getElementById('clearBtn');
		const output = document.getElementById('output');
		const resultSection = document.getElementById('resultSection');

		async function convert() {
			const expr = input.value || '';
			if (!expr.trim()) {
				output.textContent = '(empty)';
				resultSection.style.display = 'block';
				return;
			}
			output.textContent = 'Converting...';
			resultSection.style.display = 'block';
			try {
				const res = await fetch('/convert-postfix', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ expression: expr })
				});
				const data = await res.json();
				if (res.ok) {
					output.textContent = data.postfix || '(empty)';
				} else {
					output.textContent = data.error || 'Error converting expression';
				}
			} catch (err) {
				output.textContent = 'Network error: ' + err.message;
			}
		}

		btn.addEventListener('click', convert);
		input.addEventListener('keydown', (e) => { if (e.key === 'Enter') convert(); });
		clearBtn.addEventListener('click', () => { input.value = ''; resultSection.style.display = 'none'; });
	</script>

</body>
</html>

